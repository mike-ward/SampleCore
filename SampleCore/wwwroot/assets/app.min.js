var mountPage,App;(function(){"use strict";function n(n,t,i,r,u,f){return{tag:n,key:t,attrs:i,children:r,text:u,dom:f,domSize:undefined,state:undefined,_state:undefined,events:undefined,instance:undefined,skip:!1}}function c(n){for(var t in n)if(u.call(n,t))return!1;return!0}function w(n){for(var i,o="div",u=[],f={},e,r,t;i=p.exec(n);)e=i[1],r=i[2],e===""&&r!==""?o=r:e==="#"?f.id=r:e==="."?u.push(r):i[3][0]==="["&&(t=i[6],t&&(t=t.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[4]==="class"?u.push(t):f[i[4]]=t===""?t:t||!0);return u.length>0&&(f.className=u.join(" ")),h[n]={tag:o,attrs:f}}function b(t,i,r){var s=!1,h,l,e=i.className||i.class,o,f;if(!c(t.attrs)&&!c(i)){o={};for(f in i)u.call(i,f)&&(o[f]=i[f]);i=o}for(f in t.attrs)u.call(t.attrs,f)&&(i[f]=t.attrs[f]);e!==undefined&&(i.class!==undefined&&(i.class=undefined,i.className=e),t.attrs.className!=null&&(i.className=t.attrs.className+" "+e));for(f in i)if(u.call(i,f)&&f!=="key"){s=!0;break}return Array.isArray(r)&&r.length===1&&r[0]!=null&&r[0].tag==="#"?l=r[0].children:h=r,n(t.tag,i.key,s?i:undefined,h,l)}function e(t){var i=arguments[1],u=2,r,e,f;if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");if(typeof t=="string"&&(e=h[t]||w(t)),i==null?i={}:(typeof i!="object"||i.tag!=null||Array.isArray(i))&&(i={},u=1),arguments.length===u+1)r=arguments[u],Array.isArray(r)||(r=[r]);else for(r=[];u<arguments.length;)r.push(arguments[u++]);return f=n.normalizeChildren(r),typeof t=="string"?b(e,i,f):n(t,i.key,i,f)}function g(n){var r=16,t=0,i=null,u=typeof requestAnimationFrame=="function"?requestAnimationFrame:setTimeout;return function(){var f=Date.now();t===0||f-t>=r?(t=f,n()):i===null&&(i=u(function(){i=null;n();t=Date.now()},r-(f-t)))}}var i,t,a,r,v,y;n.normalize=function(t){return Array.isArray(t)?n("[",undefined,undefined,n.normalizeChildren(t),undefined,undefined):t!=null&&typeof t!="object"?n("#",undefined,undefined,t===!1?"":t,undefined,undefined):t};n.normalizeChildren=function(t){for(var i=0;i<t.length;i++)t[i]=n.normalize(t[i]);return t};var p=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,h={},u={}.hasOwnProperty;e.trust=function(t){return t==null&&(t=""),n("<",undefined,undefined,t,undefined,undefined)};e.fragment=function(t,i){return n("[",t.key,t,n.normalizeChildren(i),undefined,undefined)};i=e;t=function(n){function o(n,t){return function o(h){var l;try{if(t&&h!=null&&(typeof h=="object"||typeof h=="function")&&typeof(l=h.then)=="function"){if(h===u)throw new TypeError("Promise can't be resolved w/ itself");s(l.bind(h))}else c(function(){t||n.length!==0||console.error("Possible unhandled promise rejection:",h);for(var u=0;u<n.length;u++)n[u](h);i.length=0;r.length=0;e.state=t;e.retry=function(){o(h)}})}catch(a){f(a)}}}function s(n){function t(n){return function(t){r++>0||n(t)}}var r=0,i=t(f);try{n(t(h),i)}catch(u){i(u)}}if(!(this instanceof t))throw new Error("Promise must be called with `new`");if(typeof n!="function")throw new TypeError("executor must be a function");var u=this,i=[],r=[],h=o(i,!0),f=o(r,!1),e=u._instance={resolvers:i,rejectors:r},c=typeof setImmediate=="function"?setImmediate:setTimeout;s(n)};t.prototype.then=function(n,i){function e(n,t,i,e){t.push(function(t){if(typeof n!="function")i(t);else try{f(n(t))}catch(r){u&&u(r)}});typeof r.retry=="function"&&e===r.state&&r.retry()}var o=this,r=o._instance,f,u,s=new t(function(n,t){f=n;u=t});return e(n,r.resolvers,f,!0),e(i,r.rejectors,u,!1),s};t.prototype.catch=function(n){return this.then(null,n)};t.resolve=function(n){return n instanceof t?n:new t(function(t){t(n)})};t.reject=function(n){return new t(function(t,i){i(n)})};t.all=function(n){return new t(function(t,i){var e=n.length,u=0,f=[],r;if(n.length===0)t([]);else for(r=0;r<n.length;r++)(function(r){function o(n){u++;f[r]=n;u===e&&t(f)}n[r]!=null&&(typeof n[r]=="object"||typeof n[r]=="function")&&typeof n[r].then=="function"?n[r].then(o,i):o(n[r])})(r)})};t.race=function(n){return new t(function(t,i){for(var r=0;r<n.length;r++)n[r].then(t,i)})};typeof window!="undefined"?(typeof window.Promise=="undefined"&&(window.Promise=t),t=window.Promise):typeof global!="undefined"&&(typeof global.Promise=="undefined"&&(global.Promise=t),t=global.Promise);var f=function(n){function r(n,i){var u;if(Array.isArray(i))for(u=0;u<i.length;u++)r(n+"["+u+"]",i[u]);else if(Object.prototype.toString.call(i)==="[object Object]")for(u in i)r(n+"["+u+"]",i[u]);else t.push(encodeURIComponent(n)+(i!=null&&i!==""?"="+encodeURIComponent(i):""))}var t,i;if(Object.prototype.toString.call(n)!=="[object Object]")return"";t=[];for(i in n)r(i,n[i]);return t.join("&")},k=new RegExp("^file://","i"),d=function(n,t){function a(n){i=n}function r(){function t(){--n==0&&typeof i=="function"&&i()}var n=0;return function r(i){var u=i.then;return i.then=function(){n++;var f=u.apply(i,arguments);return f.then(t,function(i){if(t(),n===0)throw i;}),r(f)},i}}function u(n,t){if(typeof n=="string"){var i=n;n=t||{};n.url==null&&(n.url=i)}return n}function v(i,f){var a=r(),l;return i=u(i,f),l=new t(function(t,r){var f,l;i.method==null&&(i.method="GET");i.method=i.method.toUpperCase();f=i.method==="GET"||i.method==="TRACE"?!1:typeof i.useBody=="boolean"?i.useBody:!0;typeof i.serialize!="function"&&(i.serialize=typeof FormData!="undefined"&&i.data instanceof FormData?function(n){return n}:JSON.stringify);typeof i.deserialize!="function"&&(i.deserialize=s);typeof i.extract!="function"&&(i.extract=h);i.url=e(i.url,i.data);f?i.data=i.serialize(i.data):i.url=o(i.url,i.data);var u=new n.XMLHttpRequest,a=!1,v=u.abort;u.abort=function(){a=!0;v.call(u)};u.open(i.method,i.url,typeof i.async=="boolean"?i.async:!0,typeof i.user=="string"?i.user:undefined,typeof i.password=="string"?i.password:undefined);i.serialize!==JSON.stringify||!f||i.headers&&i.headers.hasOwnProperty("Content-Type")||u.setRequestHeader("Content-Type","application/json; charset=utf-8");i.deserialize!==s||i.headers&&i.headers.hasOwnProperty("Accept")||u.setRequestHeader("Accept","application/json, text/*");i.withCredentials&&(u.withCredentials=i.withCredentials);for(l in i.headers)({}).hasOwnProperty.call(i.headers,l)&&u.setRequestHeader(l,i.headers[l]);typeof i.config=="function"&&(u=i.config(u,i)||u);u.onreadystatechange=function(){var n,f,e;if(!a&&u.readyState===4)try{if(n=i.extract!==h?i.extract(u,i):i.deserialize(i.extract(u,i)),u.status>=200&&u.status<300||u.status===304||k.test(i.url))t(c(i.type,n));else{f=new Error(u.responseText);for(e in n)f[e]=n[e];r(f)}}catch(o){r(o)}};f&&i.data!=null?u.send(i.data):u.send()}),i.background===!0?l:a(l)}function y(i,f){var h=r(),s;return i=u(i,f),s=new t(function(t,r){var f=i.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+l++,u=n.document.createElement("script");n[f]=function(r){u.parentNode.removeChild(u);t(c(i.type,r));delete n[f]};u.onerror=function(){u.parentNode.removeChild(u);r(new Error("JSONP request failed"));delete n[f]};i.data==null&&(i.data={});i.url=e(i.url,i.data);i.data[i.callbackKey||"callback"]=f;u.src=o(i.url,i.data);n.document.documentElement.appendChild(u)}),i.background===!0?s:h(s)}function e(n,t){var r,i,u;if(t==null)return n;for(r=n.match(/:[^\/]+/gi)||[],i=0;i<r.length;i++)u=r[i].slice(1),t[u]!=null&&(n=n.replace(r[i],t[u]));return n}function o(n,t){var i=f(t),r;return i!==""&&(r=n.indexOf("?")<0?"?":"&",n+=r+i),n}function s(n){try{return n!==""?JSON.parse(n):null}catch(t){throw new Error(n);}}function h(n){return n.responseText}function c(n,t){if(typeof n=="function")if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=new n(t[i]);else return new n(t);return t}var l=0,i;return{request:v,jsonp:y,setCompletionCallback:a}},o=d(window,t),l=function(t){function ft(n){return a=n}function k(n){return n.attrs&&n.attrs.xmlns||ut[n.tag]}function s(n,t,i,r,u,e,o){for(var h,s=i;s<r;s++)h=t[s],h!=null&&f(n,h,u,o,e)}function f(n,t,i,r,u){var f=t.tag;if(typeof f=="string"){t.state={};t.attrs!=null&&c(t.attrs,t,i);switch(f){case"#":return et(n,t,u);case"<":return d(n,t,u);case"[":return ot(n,t,i,r,u);default:return st(n,t,i,r,u)}}else return ht(n,t,i,r,u)}function et(n,t,u){return t.dom=i.createTextNode(t.children),r(n,t.dom,u),t.dom}function d(n,t,u){var s=t.children.match(/^\s*?<(\w+)/im)||[],h={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[s[1]]||"div",f=i.createElement(h),e,o;for(f.innerHTML=t.children,t.dom=f.firstChild,t.domSize=f.childNodes.length,e=i.createDocumentFragment();o=f.firstChild;)e.appendChild(o);return r(n,e,u),e}function ot(n,t,u,f,e){var o=i.createDocumentFragment(),h;return t.children!=null&&(h=t.children,s(o,h,0,h.length,u,null,f)),t.dom=o.firstChild,t.domSize=o.childNodes.length,r(n,o,e),o}function st(t,u,f,e,o){var c=u.tag,l=u.attrs,a=l&&l.is,h,v;return e=k(u)||e,h=e?a?i.createElementNS(e,c,{is:a}):i.createElementNS(e,c):a?i.createElement(c,{is:a}):i.createElement(c),u.dom=h,l!=null&&bt(u,l,e),r(t,h,o),u.attrs!=null&&u.attrs.contenteditable!=null?nt(u):(u.text!=null&&(u.text!==""?h.textContent=u.text:u.children=[n("#",undefined,undefined,u.text,undefined,undefined)]),u.children!=null&&(v=u.children,s(h,v,0,v.length,f,null,e),kt(u))),h}function g(t,i){var r;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),r=t.state.view,r.$$reentrantLock$$!=null)return l;r.$$reentrantLock$$=!0}else{if(t.state=void 0,r=t.tag,r.$$reentrantLock$$!=null)return l;r.$$reentrantLock$$=!0;t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(t._state=t.state,t.attrs!=null&&c(t.attrs,t,i),c(t._state,t,i),t.instance=n.normalize(t._state.view.call(t.state,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function ht(n,t,i,u,e){if(g(t,i),t.instance!=null){var o=f(n,t.instance,i,u,e);return t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0,r(n,o,e),o}return t.domSize=0,l}function v(n,t,i,h,c,l,a){var ut,v,k,p,w,it,rt,tt,et;if(t!==i&&(t!=null||i!=null))if(t==null)s(n,i,0,i.length,c,l,a);else if(i==null)y(t,0,t.length,i);else{if(t.length===i.length){for(ut=!1,v=0;v<i.length;v++)if(i[v]!=null&&t[v]!=null){ut=i[v].key==null&&t[v].key==null;break}if(ut){for(v=0;v<t.length;v++)if(t[v]===i[v])continue;else t[v]==null&&i[v]!=null?f(n,i[v],c,a,u(t,v+1,l)):i[v]==null?y(t,v,v+1,i):e(n,t[v],i[v],c,u(t,v+1,l),h,a);return}}h=h||pt(t,i);h&&(k=t.pool,t=t.concat(t.pool));for(var g=0,d=0,b=t.length-1,nt=i.length-1,ft;b>=g&&nt>=d;)if(p=t[g],w=i[d],p!==w||h)if(p==null)g++;else if(w==null)d++;else if(p.key===w.key)tt=k!=null&&g>=t.length-k.length||k==null&&h,g++,d++,e(n,p,w,c,u(t,g,l),tt,a),h&&p.tag===w.tag&&r(n,o(p),l);else if(p=t[b],p!==w||h)if(p==null)b--;else if(w==null)d++;else if(p.key===w.key)tt=k!=null&&b>=t.length-k.length||k==null&&h,e(n,p,w,c,u(t,b+1,l),tt,a),(h||d<nt)&&r(n,o(p),u(t,g,l)),b--,d++;else break;else b--,d++;else g++,d++;while(b>=g&&nt>=d)if(p=t[b],w=i[nt],p!==w||h?p==null?b--:w==null?nt--:p.key===w.key?(tt=k!=null&&b>=t.length-k.length||k==null&&h,e(n,p,w,c,u(t,b+1,l),tt,a),h&&p.tag===w.tag&&r(n,o(p),l),p.dom!=null&&(l=p.dom),b--,nt--):(ft||(ft=wt(t,b)),w!=null&&(it=ft[w.key],it!=null?(rt=t[it],tt=k!=null&&it>=t.length-k.length||k==null&&h,e(n,rt,w,c,u(t,b+1,l),h,a),r(n,o(rt),l),t[it].skip=!0,rt.dom!=null&&(l=rt.dom)):(et=f(n,w,c,a,l),l=et)),nt--):(b--,nt--),nt<d)break;s(n,i,d,nt+1,c,l,a);y(t,g,b+1,i)}}function e(n,t,i,r,u,e,o){var s=t.tag,h=i.tag;if(s===h){if(i.state=t.state,i._state=t._state,i.events=t.events,!e&&ui(i,t))return;if(typeof s=="string"){i.attrs!=null&&(e?(i.state={},c(i.attrs,i,r)):b(i.attrs,i,r));switch(s){case"#":ct(t,i);break;case"<":lt(n,t,i,u);break;case"[":at(n,t,i,e,r,u,o);break;default:vt(t,i,e,r,o)}}else yt(n,t,i,r,u,e,o)}else p(t,null),f(n,i,r,o,u)}function ct(n,t){n.children.toString()!==t.children.toString()&&(n.dom.nodeValue=t.children);t.dom=n.dom}function lt(n,t,i,r){t.children!==i.children?(o(t),d(n,i,r)):(i.dom=t.dom,i.domSize=t.domSize)}function at(n,t,i,r,u,f,e){var s,h,c,o;if(v(n,t.children,i.children,r,u,f,e),s=0,h=i.children,i.dom=null,h!=null){for(c=0;c<h.length;c++)o=h[c],o!=null&&o.dom!=null&&(i.dom==null&&(i.dom=o.dom),s+=o.domSize||1);s!==1&&(i.domSize=s)}}function vt(t,i,r,u,f){var e=i.dom=t.dom;f=k(i)||f;i.tag==="textarea"&&(i.attrs==null&&(i.attrs={}),i.text!=null&&(i.attrs.value=i.text,i.text=undefined));dt(i,t.attrs,i.attrs,f);i.attrs!=null&&i.attrs.contenteditable!=null?nt(i):t.text!=null&&i.text!=null&&i.text!==""?t.text.toString()!==i.text.toString()&&(t.dom.firstChild.nodeValue=i.text):(t.text!=null&&(t.children=[n("#",undefined,undefined,t.text,undefined,t.dom.firstChild)]),i.text!=null&&(i.children=[n("#",undefined,undefined,i.text,undefined,undefined)]),v(e,t.children,i.children,r,u,null,f))}function yt(t,i,r,u,o,s,h){if(s)g(r,u);else{if(r.instance=n.normalize(r._state.view.call(r.state,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");r.attrs!=null&&b(r.attrs,r,u);b(r._state,r,u)}r.instance!=null?(i.instance==null?f(t,r.instance,u,h,o):e(t,i.instance,r.instance,u,o,s,h),r.dom=r.instance.dom,r.domSize=r.instance.domSize):i.instance!=null?(p(i.instance,null),r.dom=undefined,r.domSize=0):(r.dom=i.dom,r.domSize=i.domSize)}function pt(n,t){if(n.pool!=null&&Math.abs(n.pool.length-t.length)<=Math.abs(n.length-t.length)){var r=n[0]&&n[0].children&&n[0].children.length||0,u=n.pool[0]&&n.pool[0].children&&n.pool[0].children.length||0,i=t[0]&&t[0].children&&t[0].children.length||0;if(Math.abs(u-i)<=Math.abs(r-i))return!0}return!1}function wt(n,t){for(var r,u,f={},i=0,i=0;i<t;i++)r=n[i],r!=null&&(u=r.key,u!=null&&(f[u]=i));return f}function o(n){var r=n.domSize,t,u;if(r!=null||n.dom==null){if(t=i.createDocumentFragment(),r>0){for(u=n.dom;--r;)t.appendChild(u.nextSibling);t.insertBefore(u,t.firstChild)}return t}return n.dom}function u(n,t,i){for(;t<n.length;t++)if(n[t]!=null&&n[t].dom!=null)return n[t].dom;return i}function r(n,t,i){i&&i.parentNode?n.insertBefore(t,i):n.appendChild(t)}function nt(n){var t=n.children,i;if(t!=null&&t.length===1&&t[0].tag==="<")i=t[0].children,n.dom.innerHTML!==i&&(n.dom.innerHTML=i);else if(n.text!=null||t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted");}function y(n,t,i,r){for(var u,f=t;f<i;f++)u=n[f],u!=null&&(u.skip?u.skip=!1:p(u,r))}function p(n,t){function r(){var i,r;if(++f===u&&(w(n),n.dom)){if(i=n.domSize||1,i>1)for(r=n.dom;--i;)tt(r.nextSibling);tt(n.dom);t==null||n.domSize!=null||ii(n.attrs)||typeof n.tag!="string"||(t.pool?t.pool.push(n):t.pool=[n])}}var u=1,f=0,i;n.attrs&&typeof n.attrs.onbeforeremove=="function"&&(i=n.attrs.onbeforeremove.call(n.state,n),i!=null&&typeof i.then=="function"&&(u++,i.then(r,r)));typeof n.tag!="string"&&typeof n._state.onbeforeremove=="function"&&(i=n._state.onbeforeremove.call(n.state,n),i!=null&&typeof i.then=="function"&&(u++,i.then(r,r)));r()}function tt(n){var t=n.parentNode;t!=null&&t.removeChild(n)}function w(n){var t,i,r;if(n.attrs&&typeof n.attrs.onremove=="function"&&n.attrs.onremove.call(n.state,n),typeof n.tag!="string")typeof n._state.onremove=="function"&&n._state.onremove.call(n.state,n),n.instance!=null&&w(n.instance);else if(t=n.children,Array.isArray(t))for(i=0;i<t.length;i++)r=t[i],r!=null&&w(r)}function bt(n,t,i){for(var r in t)h(n,r,null,t[r],i)}function h(n,t,r,u,f){var e=n.dom,o,s;if(t!=="key"&&t!=="is"&&(r!==u||gt(n,t)||typeof u=="object")&&typeof u!="undefined"&&!it(t))if(o=t.indexOf(":"),o>-1&&t.substr(0,o)==="xlink")e.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(o+1),u);else if(t[0]==="o"&&t[1]==="n"&&typeof u=="function")rt(n,t,u);else if(t==="style")ri(e,r,u);else if(t in e&&!ni(t)&&f===undefined&&!ti(n)){if(t==="value"){if(s=""+u,(n.tag==="input"||n.tag==="textarea")&&n.dom.value===s&&n.dom===i.activeElement)return;if(n.tag==="select")if(u===null){if(n.dom.selectedIndex===-1&&n.dom===i.activeElement)return}else if(r!==null&&n.dom.value===s&&n.dom===i.activeElement)return;if(n.tag==="option"&&r!=null&&n.dom.value===s)return}if(n.tag==="input"&&t==="type"){e.setAttribute(t,u);return}e[t]=u}else typeof u=="boolean"?u?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t==="className"?"class":t,u)}function kt(n){var t=n.attrs;n.tag==="select"&&t!=null&&("value"in t&&h(n,"value",null,t.value,undefined),"selectedIndex"in t&&h(n,"selectedIndex",null,t.selectedIndex,undefined))}function dt(n,t,i,r){var u;if(i!=null)for(u in i)h(n,u,t&&t[u],i[u],r);if(t!=null)for(u in t)i!=null&&u in i||(u==="className"&&(u="class"),u[0]!=="o"||u[1]!=="n"||it(u)?u!=="key"&&n.dom.removeAttribute(u):rt(n,u,undefined))}function gt(n,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&n.dom===i.activeElement}function it(n){return n==="oninit"||n==="oncreate"||n==="onupdate"||n==="onremove"||n==="onbeforeremove"||n==="onbeforeupdate"}function ni(n){return n==="href"||n==="list"||n==="form"||n==="width"||n==="height"}function ti(n){return n.attrs.is||n.tag.indexOf("-")>-1}function ii(n){return n!=null&&(n.oncreate||n.onupdate||n.onbeforeremove||n.onremove)}function ri(n,t,i){var r;if(t===i&&(n.style.cssText="",t=null),i==null)n.style.cssText="";else if(typeof i=="string")n.style.cssText=i;else{typeof t=="string"&&(n.style.cssText="");for(r in i)n.style[r]=i[r];if(t!=null&&typeof t!="string")for(r in t)r in i||(n.style[r]="")}}function rt(n,t,i){var r=n.dom,u=typeof a!="function"?i:function(n){var t=i.call(r,n);return a.call(r,n),t},f;if(t in r)r[t]=typeof i=="function"?u:null;else{if(f=t.slice(2),n.events===undefined&&(n.events={}),n.events[t]===u)return;n.events[t]!=null&&r.removeEventListener(f,n.events[t],!1);typeof i=="function"&&(n.events[t]=u,r.addEventListener(f,n.events[t],!1))}}function c(n,t,i){typeof n.oninit=="function"&&n.oninit.call(t.state,t);typeof n.oncreate=="function"&&i.push(n.oncreate.bind(t.state,t))}function b(n,t,i){typeof n.onupdate=="function"&&i.push(n.onupdate.bind(t.state,t))}function ui(n,t){var i,r;return(n.attrs!=null&&typeof n.attrs.onbeforeupdate=="function"&&(i=n.attrs.onbeforeupdate.call(n.state,n,t)),typeof n.tag!="string"&&typeof n._state.onbeforeupdate=="function"&&(r=n._state.onbeforeupdate.call(n.state,n,t)),!(i===undefined&&r===undefined)&&!i&&!r)?(n.dom=t.dom,n.domSize=t.domSize,n.instance=t.instance,!0):!1}function fi(t,r){var u;if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var f=[],e=i.activeElement,o=t.namespaceURI;for(t.vnodes==null&&(t.textContent=""),Array.isArray(r)||(r=[r]),v(t,t.vnodes,n.normalizeChildren(r),!1,f,null,o==="http://www.w3.org/1999/xhtml"?undefined:o),t.vnodes=r,e!=null&&i.activeElement!==e&&e.focus(),u=0;u<f.length;u++)f[u]()}var i=t.document,l=i.createDocumentFragment(),ut={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},a;return{render:fi,setEventCallback:ft}};a=function(n){function f(n,i){r(n);t.push(n,g(i))}function r(n){var i=t.indexOf(n);i>-1&&t.splice(i,2)}function u(){for(var n=1;n<t.length;n+=2)t[n]()}var i=l(n),t;return i.setEventCallback(function(n){n.redraw===!1?n.redraw=undefined:u()}),t=[],{subscribe:f,unsubscribe:r,redraw:u,render:i.render}};r=a(window);o.setCompletionCallback(r.redraw);v=function(t){return function(i,r){if(r===null){t.render(i,[]);t.unsubscribe(i);return}if(r.view==null&&typeof r!="function")throw new Error("m.mount(element, component) expects a component, not a vnode");var u=function(){t.render(i,n(r))};t.subscribe(i,u);t.redraw()}};i.mount=v(r);var nt=t,s=function(n){var o,t,f,i,r;if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));var c=n.split("&"),l={},s={};for(o=0;o<c.length;o++){var h=c[o].split("="),r=decodeURIComponent(h[0]),u=h.length===2?decodeURIComponent(h[1]):"";for(u==="true"?u=!0:u==="false"&&(u=!1),t=r.split(/\]\[?|\[/),f=l,r.indexOf("[")>-1&&t.pop(),i=0;i<t.length;i++){var e=t[i],a=t[i+1],v=a==""||!isNaN(parseInt(a,10)),y=i===t.length-1;e===""&&(r=t.slice(0,i).join(),s[r]==null&&(s[r]=0),e=s[r]++);f[e]==null&&(f[e]=y?u:v?[]:{});f=f[e]}}return l},tt=function(n){function i(t){var i=n.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return t==="pathname"&&i[0]!=="/"&&(i="/"+i),i}function h(n){return function(){r==null&&(r=o(function(){r=null;n()}))}}function e(n,t,i){var f=n.indexOf("?"),r=n.indexOf("#"),c=f>-1?f:r>-1?r:n.length,h,e,o,u;if(f>-1){h=r>-1?r:n.length;e=s(n.slice(f+1,h));for(u in e)t[u]=e[u]}if(r>-1){o=s(n.slice(r+1));for(u in o)i[u]=o[u]}return n.slice(0,c)}var u=typeof n.history.pushState=="function",o=typeof setImmediate=="function"?setImmediate:setTimeout,r,t={prefix:"#!"};return t.getPath=function(){var n=t.prefix.charAt(0);switch(n){case"#":return i("hash").slice(t.prefix.length);case"?":return i("search").slice(t.prefix.length)+i("hash");default:return i("pathname").slice(t.prefix.length)+i("search")+i("hash")}},t.setPath=function(i,r,o){var s={},y={},h,c,l,a,v;if(i=e(i,s,y),r!=null){for(h in r)s[h]=r[h];i=i.replace(/:([^\/]+)/g,function(n,t){return delete s[t],r[t]})}c=f(s);c&&(i+="?"+c);l=f(y);l&&(i+="#"+l);u?(a=o?o.state:null,v=o?o.title:null,n.onpopstate(),o&&o.replace?n.history.replaceState(a,v,t.prefix+i):n.history.pushState(a,v,t.prefix+i)):n.location.href=t.prefix+i},t.defineRoutes=function(i,r,f){function o(){var s=t.getPath(),u={},a=e(s,u,u),h=n.history.state,c,o,l;if(h!=null)for(c in h)u[c]=h[c];for(o in i)if(l=new RegExp("^"+o.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$"),l.test(a)){a.replace(l,function(){for(var t=o.match(/:[^\/]+/g)||[],f=[].slice.call(arguments,1,-2),n=0;n<t.length;n++)u[t[n].replace(/:|\./g,"")]=decodeURIComponent(f[n]);r(i[o],u,s,o)});return}f(s,u)}u?n.onpopstate=h(o):t.prefix.charAt(0)==="#"&&(n.onhashchange=o);o()},t},it=function(t,i){var r=tt(t),c=function(n){return n},o,s,f,h,e,u=function(t,u,l){if(t==null)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var a=function(){o!=null&&i.render(t,o(n(s,f.key,f)))},v=function(n){if(n!==u)r.setPath(u,null,{replace:!0});else throw new Error("Could not resolve default route "+u);};r.defineRoutes(l,function(n,t,i){var r=e=function(n,u){r===e&&(s=u!=null&&(typeof u.view=="function"||typeof u=="function")?u:"div",f=t,h=i,e=null,o=(n.render||c).bind(n),a())};n.view||typeof n=="function"?r({},n):n.onmatch?nt.resolve(n.onmatch(t,i)).then(function(t){r(n,t)},v):r(n,"div")},v);i.subscribe(t,a)};return u.set=function(n,t,i){e!=null&&(i=i||{},i.replace=!0);e=null;r.setPath(n,t,i)},u.get=function(){return h},u.prefix=function(n){r.prefix=n},u.link=function(n){n.dom.setAttribute("href",r.prefix+n.attrs.href);n.dom.onclick=function(n){if(!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&n.which!==2){n.preventDefault();n.redraw=!1;var t=this.getAttribute("href");t.indexOf(r.prefix)===0&&(t=t.slice(r.prefix.length));u.set(t,undefined,undefined)}}},u.param=function(n){return typeof f!="undefined"&&typeof n!="undefined"?f[n]:f},u};i.route=it(window,r);i.withAttr=function(n,t,i){return function(r){t.call(i||this,n in r.currentTarget?r.currentTarget[n]:r.currentTarget.getAttribute(n))}};y=l(window);i.render=y.render;i.redraw=r.redraw;i.request=o.request;i.jsonp=o.jsonp;i.parseQueryString=s;i.buildQueryString=f;i.version="1.1.6";i.vnode=n;typeof module!="undefined"?module.exports=i:window.m=i})(),function(n){var t;(function(n){var t;(function(n){function t(){return m("h1","I'm an aboot page")}n.page={view:t}})(t=n.About||(n.About={}))})(t=n.Pages||(n.Pages={}))}(App||(App={})),function(n){var t;(function(n){var t;(function(n){function t(){return m("home",[m("h1","Welcome")])}n.page={view:t}})(t=n.Home||(n.Home={}))})(t=n.Pages||(n.Pages={}))}(App||(App={})),function(n){var t;(function(n){function t(n){var t=n.attrs.options;return t?m(".nav-bar",t.items.map(function(n){return m("a",{href:n.link},n.name)})):null}n.navBar={view:t,css:"\n      .nav-bar {\n        margin: .25em auto;\n      }\n      .nav-bar a {\n        margin: 0 1em;\n        white-space: nowrap;\n        text-decoration: none;\n      }\n      .nav-bar a:hover {\n        border-bottom: solid 1px;\n      }"}})(t=n.Components||(n.Components={}))}(App||(App={})),function(n){var t;(function(n){function t(){return m(".footer",[m("hr"),m(".app-footer","footer stuff goes here")])}n.pageFooter={view:t,css:".footer{margin-top:5rem;}"}})(t=n.Components||(n.Components={}))}(App||(App={})),function(n){var t;(function(n){function i(){return m(".header",[m("h1","My Application Title"),m(n.navBar,{options:t}),m("hr")])}var t={items:[{name:"Home",link:"home"},{name:"Item1",link:"item1"},{name:"Item2",link:"item2"},{name:"About",link:"about"}]};n.pageHeader={view:i,css:".header{clear:both;text-align:center;}"}})(t=n.Components||(n.Components={}))}(App||(App={})),function(n){var t;(function(n){function i(n){var i=t(n,[]);r(i.join("\n"))}function t(n,i){var r=Object.keys(n);return r.forEach(function(r){var u=n[r];u&&typeof u=="object"&&(u.css&&i.push(u.css),t(u,i))}),i}function r(n){var t=document.createElement("style");t.type="text/css";t.innerHTML=n;document.getElementsByTagName("head")[0].appendChild(t)}n.dom={loadCss:i}})(t=n.Services||(n.Services={}))}(App||(App={}));
/*! Copyright INDS Inc, All rights reserved */
-[1,]||alert("Internet Explorer 7 and 8 are not supported");mountPage=function(n){return m.mount(document.getElementById("root"),n)},function(n){console.log("mithril version: ",m.version);n.app={css:"\n      body{\n        color:#333;\n        background-color:#f9fafb;;\n        line-height:1.6;\n        margin:1em auto;\n        max-width:1200px;\n        min-width:320px;\n      }\n      view{\n        margin:1em auto;\n      }\n      .error-text{\n        color:darkred;\n      }\n      .current-user-login{\n        text-align:right;\n      }"}}(App||(App={}));
//# sourceMappingURL=app.min.js.map